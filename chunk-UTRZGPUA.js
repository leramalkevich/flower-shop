import{$ as H,V as D,Y as S,a as m,m as r}from"./chunk-ZPXGML5V.js";import{$ as u,Ab as l,Na as v,Qb as T,Rb as w,S as f,Sb as _,W as p,Ya as b,i as d,ia as C,ja as g,qa as y,tb as s,ub as c,vb as h}from"./chunk-UEYGX62B.js";var M=class t{constructor(e){this.http=e}count=0;count$=new d;setCount(e){this.count=e,this.count$.next(this.count)}getCart(){return this.http.get(r.api+"cart",{withCredentials:!0})}getCartCount(){return this.http.get(r.api+"cart/count",{withCredentials:!0}).pipe(f(e=>{e.hasOwnProperty("error")||this.setCount(e.count)}))}updateCart(e,n){return this.http.post(r.api+"cart",{productId:e,quantity:n},{withCredentials:!0}).pipe(f(o=>{if(!o.hasOwnProperty("error")){let i=0;o.items.forEach(a=>{i+=a.quantity}),this.setCount(i)}}))}static \u0275fac=function(n){return new(n||t)(u(m))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})};var R=class t{constructor(e){this.http=e}getFavourites(){return this.http.get(r.api+"favorites")}removeFavourite(e){return this.http.delete(r.api+"favorites",{body:{productId:e}})}addFavourite(e){return this.http.post(r.api+"favorites",{productId:e})}static \u0275fac=function(n){return new(n||t)(u(m))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})};var F=class t{count=1;onCountChange=new y;countChange(){this.onCountChange.emit(this.count)}decreaseCount(){this.count>1&&(this.count--,this.countChange())}increaseCount(){this.count++,this.countChange()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["count-selector"]],inputs:{count:"count"},outputs:{onCountChange:"onCountChange"},standalone:!1,decls:8,vars:1,consts:[[1,"count-selector"],[3,"click"],["width","10","height","3","viewBox","0 0 10 3","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.14019 3V0H0V3H9.14019Z","fill","#9AA89B"],["type","text",1,"small-input",3,"ngModelChange","change","ngModel"],["width","13","height","12","viewBox","0 0 13 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.34934 12V7.20896H12.1406V4.81343H7.34934V0H4.95369V4.81343H0.140625V7.20896H4.95369V12H7.34934Z","fill","#9AA89B"]],template:function(n,o){n&1&&(s(0,"div",0)(1,"div",1),l("click",function(){return o.decreaseCount()}),C(),s(2,"svg",2),h(3,"path",3),c()(),g(),s(4,"input",4),_("ngModelChange",function(a){return w(o.count,a)||(o.count=a),a}),l("change",function(){return o.countChange()}),c(),s(5,"div",1),l("click",function(){return o.increaseCount()}),C(),s(6,"svg",5),h(7,"path",6),c()()()),n&2&&(v(4),T("ngModel",o.count))},dependencies:[D,S,H],styles:[".count-selector[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:97px}.count-selector[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer}"]})};export{M as a,R as b,F as c};
