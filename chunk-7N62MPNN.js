import{a as R}from"./chunk-CACX4BSI.js";import{S as F,U as G,V as y,W as q,X as p,Y as x,Z as S,da as w,ea as E,ga as k,ia as H,j as O,k as b,ka as Z,l as L}from"./chunk-ZPXGML5V.js";import{Ab as v,Na as c,Nb as r,Sa as h,Tb as z,Ub as g,X as C,Ya as _,Za as M,_a as j,aa as f,mb as l,tb as o,ub as u,vb as m,xc as P,zc as V}from"./chunk-UEYGX62B.js";var $=i=>({"border-color":i}),D=class i{constructor(n,e){this.authService=n;this.router=e}fb=f(k);_snackBar=f(F);loginForm=this.fb.group({email:["",[p.email,p.required]],password:["",[p.required]],rememberMe:[!1,[]]});login(){this.loginForm.valid&&this.loginForm.value.email&&this.loginForm.value.password&&this.authService.login(this.loginForm.value.email,this.loginForm.value.password,!!this.loginForm.value.rememberMe).subscribe({next:n=>{let e=null;n.error!==void 0&&(e=n.message);let t=n;if((!t.accessToken||!t.refreshToken||!t.userId)&&(e="\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),e)throw this._snackBar.open(e),new Error(e);this.authService.setTokens(t.accessToken,t.refreshToken),this.authService.userId=t.userId,this._snackBar.open("\u0412\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043B\u0438\u0441\u044C"),this.router.navigate(["/"])},error:n=>{n.error&&n.error.message?this._snackBar.open(n.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438")}})}static \u0275fac=function(e){return new(e||i)(h(R),h(O))};static \u0275cmp=_({type:i,selectors:[["app-login"]],standalone:!1,decls:23,vars:8,consts:[[1,"login",3,"formGroup"],[1,"container"],[1,"auth-form"],[1,"auth-title"],[1,"auth-inputs"],[1,"auth-input"],["type","text","placeholder","\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430","formControlName","email",1,"input",3,"ngStyle"],["type","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","formControlName","password",1,"input",3,"ngStyle"],[1,"auth-checkbox"],["type","checkbox","id","remember","formControlName","rememberMe"],["for","remember"],[1,"auth-button"],[1,"button",3,"click","disabled"],[1,"auth-link"],["routerLink","/signup"],[1,"page-image"],["src","assets/images/page/login.png","alt","flower"]],template:function(e,t){if(e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),r(4,"\u0412\u043E\u0439\u0442\u0438 \u0432 \u043B\u0438\u0447\u043D\u044B\u0439 \u043A\u0430\u0431\u0438\u043D\u0435\u0442"),u(),o(5,"div",4)(6,"div",5),m(7,"input",6),u(),o(8,"div",5),m(9,"input",7),u(),o(10,"div",8),m(11,"input",9),o(12,"label",10),r(13,"\u0417\u0430\u043F\u043E\u043C\u043D\u0438\u0442\u044C \u043C\u0435\u043D\u044F"),u()()(),o(14,"div",11)(15,"button",12),v("click",function(){return t.login()}),r(16,"\u0412\u043E\u0439\u0442\u0438"),u()(),o(17,"div",13),r(18,"\u041D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430? "),o(19,"a",14),r(20,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044C"),u()()(),o(21,"div",15),m(22,"img",16),u()()()),e&2){let a,s;l("formGroup",t.loginForm),c(7),l("ngStyle",g(4,$,(a=t.loginForm.get("email"))!=null&&a.invalid&&((a=t.loginForm.get("email"))!=null&&a.dirty||(a=t.loginForm.get("email"))!=null&&a.touched)?"red":"")),c(2),l("ngStyle",g(6,$,(s=t.loginForm.get("password"))!=null&&s.invalid&&((s=t.loginForm.get("password"))!=null&&s.dirty||(s=t.loginForm.get("password"))!=null&&s.touched)?"red":"")),c(6),l("disabled",t.loginForm.invalid)}},dependencies:[P,y,G,x,S,w,E,b],styles:[".auth-form[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:110px}.auth-form[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{font-family:Lora,sans-serif;font-weight:400;font-size:36px;color:#202b21;margin-bottom:35px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]{margin-bottom:30px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]{margin-bottom:8px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]{max-width:422px;display:flex;align-items:baseline}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;color:#2c2c2c;line-height:20.8px;margin-left:10px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#519057;text-decoration:none}.auth-form[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{margin-top:30px}.auth-form[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]{margin-top:8px;font-size:16px;color:#2c2c2c}.auth-form[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#519057;margin-left:5px}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]{margin-left:49px}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:bottom}"]})};var B=class i{validate(n){let e=n.get("password"),t=n.get("passwordRepeat");return e?.value!==t?.value?(t?.setErrors({passwordRepeat:!0}),{passwordRepeat:!0}):null}static \u0275fac=function(e){return new(e||i)};static \u0275dir=j({type:i,selectors:[["","passwordRepeat",""]],standalone:!1,features:[z([{provide:q,useExisting:i,multi:!0}])]})};var I=i=>({"border-color":i}),A=class i{constructor(n,e){this.authService=n;this.router=e}fb=f(k);_snackBar=f(F);signupForm=this.fb.group({email:["",[p.email,p.required]],password:["",[p.required,p.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/)]],passwordRepeat:["",[p.required,p.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/)]],agree:[!1,[p.requiredTrue]]});signup(){this.signupForm.valid&&this.signupForm.value.email&&this.signupForm.value.password&&this.signupForm.value.passwordRepeat&&this.signupForm.value.agree&&this.authService.signup(this.signupForm.value.email,this.signupForm.value.password,this.signupForm.value.passwordRepeat).subscribe({next:n=>{let e=null;n.error!==void 0&&(e=n.message);let t=n;if((!t.accessToken||!t.refreshToken||!t.userId)&&(e="\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),e)throw this._snackBar.open(e),new Error(e);this.authService.setTokens(t.accessToken,t.refreshToken),this.authService.userId=t.userId,this._snackBar.open("\u0412\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043B\u0438\u0441\u044C"),this.router.navigate(["/"])},error:n=>{n.error&&n.error.message?this._snackBar.open(n.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")}})}static \u0275fac=function(e){return new(e||i)(h(R),h(O))};static \u0275cmp=_({type:i,selectors:[["app-signup"]],standalone:!1,decls:31,vars:11,consts:[["passwordRepeat","",1,"signup",3,"formGroup"],[1,"container"],[1,"auth-form"],[1,"auth-title"],[1,"auth-inputs"],[1,"auth-input"],["type","text","placeholder","\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430","formControlName","email",1,"input",3,"ngStyle"],["type","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","formControlName","password",1,"input",3,"ngStyle"],["type","password","placeholder","\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C","formControlName","passwordRepeat",1,"input",3,"ngStyle"],[1,"auth-checkbox"],["type","checkbox","id","agree"],["for","agree"],["href","#"],[1,"auth-button"],[1,"button",3,"click","disabled"],[1,"auth-link"],["routerLink","/login"],[1,"page-image"],["src","assets/images/page/signup.png","alt","flower"]],template:function(e,t){if(e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),r(4,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F \u043D\u0430 \u0441\u0430\u0439\u0442\u0435"),u(),o(5,"div",4)(6,"div",5),m(7,"input",6),u(),o(8,"div",5),m(9,"input",7),u(),o(10,"div",5),m(11,"input",8),u(),o(12,"div",9),m(13,"input",10),o(14,"label",11),r(15,"\u042F \u043F\u0440\u0438\u043D\u0438\u043C\u0430\u044E "),o(16,"a",12),r(17,"\u0443\u0441\u043B\u043E\u0432\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u043E\u0433\u043E \u0441\u043E\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u044F"),u(),r(18," \u0438 \u0434\u0430\u044E "),o(19,"a",12),r(20,"\u0441\u043E\u0433\u043B\u0430\u0441\u0438\u0435 \u043D\u0430 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0443 \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445"),u(),r(21,"."),u()()(),o(22,"div",13)(23,"button",14),v("click",function(){return t.signup()}),r(24,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),u()(),o(25,"div",15),r(26,"\u0423\u0436\u0435 \u0435\u0441\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442? "),o(27,"a",16),r(28,"\u0412\u043E\u0439\u0434\u0438\u0442\u0435"),u()()(),o(29,"div",17),m(30,"img",18),u()()()),e&2){let a,s,d;l("formGroup",t.signupForm),c(7),l("ngStyle",g(5,I,(a=t.signupForm.get("email"))!=null&&a.invalid&&((a=t.signupForm.get("email"))!=null&&a.dirty||(a=t.signupForm.get("email"))!=null&&a.touched)?"red":"")),c(2),l("ngStyle",g(7,I,(s=t.signupForm.get("password"))!=null&&s.invalid&&((s=t.signupForm.get("password"))!=null&&s.dirty||(s=t.signupForm.get("password"))!=null&&s.touched)?"red":"")),c(2),l("ngStyle",g(9,I,(d=t.signupForm.get("passwordRepeat"))!=null&&d.invalid&&((d=t.signupForm.get("passwordRepeat"))!=null&&d.dirty||(d=t.signupForm.get("passwordRepeat"))!=null&&d.touched)?"red":"")),c(12),l("disabled",t.signupForm.invalid)}},dependencies:[P,y,x,S,w,E,B,b],styles:[".auth-form[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:110px}.auth-form[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{font-family:Lora,sans-serif;font-weight:400;font-size:36px;color:#202b21;margin-bottom:35px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]{margin-bottom:30px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]{margin-bottom:8px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]{max-width:422px;display:flex;align-items:baseline}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;color:#2c2c2c;line-height:20.8px;margin-left:10px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#519057;text-decoration:none}.auth-form[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{margin-top:30px}.auth-form[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]{margin-top:8px;font-size:16px;color:#2c2c2c}.auth-form[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#519057;margin-left:5px}.signup[_ngcontent-%COMP%]{margin-top:10px}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]{margin-left:222px}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:bottom}"]})};var tt=[{path:"login",component:D},{path:"signup",component:A}],N=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=C({imports:[L.forChild(tt),L]})};var U=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=C({imports:[V,H,Z,N]})};export{U as UserModule};
